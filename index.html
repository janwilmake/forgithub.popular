<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popular (for GitHub)</title>

    <meta name="description" content="The Top 500 trending repos, every day" />
    <meta name="robots" content="index, follow" />

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://popular.forgithub.com" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Popular" />
    <meta property="og:description" content="The Top 500 trending repos, every day" />
    <meta property="og:image" content="https://quickog.com/screenshot/popular.forgithub.com" />
    <meta property="og:image:alt" content="The Top 500 trending repos, every day" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:domain" content="popular.forgithub.com" />
    <meta property="twitter:url" content="https://popular.forgithub.com" />
    <meta name="twitter:title" content="Popular" />
    <meta name="twitter:description" content="The Top 500 trending repos, every day" />
    <meta name="twitter:image" content="https://quickog.com/screenshot/popular.forgithub.com" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --color-primary: #9333ea;
            /* Tailwind purple-600 */
            --color-primary-light: #a855f7;
            /* Tailwind purple-500 */
            --color-secondary: #ec4899;
            /* Tailwind pink-500 */
        }

        body {
            background-color: #111827;
            /* Tailwind gray-900 */
            color: #f3f4f6;
            /* Tailwind gray-100 */
        }

        .card {
            background: #1f2937;
            /* Tailwind gray-800 */
            border-left: 4px solid var(--color-primary);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(147, 51, 234, 0.3);
        }

        .language-badge {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
        }

        .header-gradient {
            background: linear-gradient(90deg, var(--color-primary-light), var(--color-secondary));
        }

        .cta-button {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(147, 51, 234, 0.3);
        }
    </style>
</head>

<body class="min-h-screen pb-10">
    <header class="sticky top-0 z-10 bg-gray-900 shadow-lg">
        <div class="header-gradient h-1"></div>
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-2xl font-bold mb-4 md:mb-0">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-pink-500">Popular (for
                    GitHub)</span>
            </h1>
            <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
                <div class="flex items-center">
                    <label for="language-filter" class="mr-2 text-gray-300">Filter by language:</label>
                    <select id="language-filter"
                        class="bg-gray-800 text-white px-3 py-1 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="All">All Languages</option>
                    </select>
                </div>
                <div class="text-sm text-gray-400">
                    <span id="repo-count">0</span> repositories found
                </div>
            </div>
        </div>
    </header>

    <!-- Hero section with headline and GitHub embed -->
    <div class="container mx-auto px-4 py-16 text-center">
        <h2
            class="text-4xl md:text-5xl lg:text-6xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-pink-500">
            The Top 500 trending repos, every day
        </h2>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto mb-12">
            For humans, LLMs, and as API.
        </p>

        <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-6 mb-12">
            <!-- GitHub Star Button -->
            <div class="github-embed bg-gray-800 rounded-md p-2 flex items-center">
                <a href="https://github.com/janwilmake/forgithub.popular" target="_blank"
                    class="flex items-center hover:opacity-90 transition-opacity">
                    <svg class="w-8 h-8 mr-2" viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                        </path>
                    </svg>
                    <div class="flex flex-col items-start">
                        <span class="text-sm font-medium">janwilmake/forgithub.popular</span>
                        <div class="flex items-center">
                            <svg class="w-4 h-4 text-yellow-400 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                                </path>
                            </svg>
                            <span class="text-xs text-gray-300">Star</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- CTA Button -->
            <a href="/index.json" class="cta-button text-white font-bold py-3 px-6 rounded-md shadow-md">
                View JSON
            </a>

            <a href="/index.md" class="cta-button text-white font-bold py-3 px-6 rounded-md shadow-md">
                View markdown
            </a>
        </div>
    </div>

    <main class="container mx-auto px-4">
        <div id="loading" class="text-center py-20">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500 mb-4">
            </div>
            <p class="text-gray-400">Loading repositories...</p>
        </div>
        <div id="error-message" class="hidden bg-red-900 text-white p-4 rounded-md my-4"></div>
        <div id="repo-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </main>
    <script>
        // State management
        const state = {
            repos: [],
            languages: new Set(),
            selectedLanguage: localStorage.getItem('preferredLanguage') || 'All'
        };
        // DOM elements
        const languageFilter = document.getElementById('language-filter');
        const repoGrid = document.getElementById('repo-grid');
        const loadingEl = document.getElementById('loading');
        const errorMessage = document.getElementById('error-message');
        const repoCountEl = document.getElementById('repo-count');
        // Initialize the app
        async function init() {
            try {
                await fetchRepos();
                populateLanguageFilter();
                renderRepos();
                // Set initial selected value
                languageFilter.value = state.selectedLanguage;
            } catch (error) {
                showError(`Failed to load repositories: ${error.message}`);
            }
        }
        // Fetch repositories
        async function fetchRepos() {
            try {
                const response = await fetch('/index.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                state.repos = (await response.json()).repositories
                // Extract unique languages
                state.repos.forEach(repo => {
                    if (repo.language) {
                        state.languages.add(repo.language);
                    }
                });
                // If no preferred language is set, use the first available
                if (!localStorage.getItem('preferredLanguage') && state.languages.size > 0) {
                    const firstLang = Array.from(state.languages)[0];
                    state.selectedLanguage = firstLang;
                    localStorage.setItem('preferredLanguage', firstLang);
                }
                hideLoading();
            } catch (error) {
                hideLoading();
                throw error;
            }
        }
        // Populate language filter dropdown
        function populateLanguageFilter() {
            // Add "All" option first
            const allOption = document.createElement('option');
            allOption.value = 'All';
            allOption.textContent = 'All Languages';
            // Clear existing options
            languageFilter.innerHTML = '';
            languageFilter.appendChild(allOption);
            // Add language options
            Array.from(state.languages).sort().forEach(language => {
                const option = document.createElement('option');
                option.value = language;
                option.textContent = language;
                languageFilter.appendChild(option);
            });
            // Set the selected value
            languageFilter.value = state.selectedLanguage;
            // Add event listener
            languageFilter.addEventListener('change', (e) => {
                state.selectedLanguage = e.target.value;
                localStorage.setItem('preferredLanguage', state.selectedLanguage);
                renderRepos();
            });
        }
        // Render repositories based on selected language
        function renderRepos() {
            repoGrid.innerHTML = '';
            const filteredRepos = state.selectedLanguage === 'All'
                ? state.repos
                : state.repos.filter(repo => repo.language === state.selectedLanguage);
            repoCountEl.textContent = filteredRepos.length;
            if (filteredRepos.length === 0) {
                repoGrid.innerHTML = `
 <div class="col-span-3 text-center py-10 text-gray-400">
 No repositories found with the selected language.
 </div>
 `;
                return;
            }
            filteredRepos.forEach(repo => {
                const card = createRepoCard(repo);
                repoGrid.appendChild(card);
            });
        }
        // Create repository card
        function createRepoCard(repo) {
            const card = document.createElement('div');
            card.className = 'card rounded-lg overflow-hidden shadow-lg hover:shadow-xl p-5 flex flex-col h-full';
            const formattedDate = new Date(repo.created_at).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
            card.innerHTML = `
 <div class="flex items-center mb-4">
 <img src="${repo.owner?.avatar_url || '/api/placeholder/40/40'}" alt="Owner avatar"
 class="w-10 h-10 rounded-full mr-3" onerror="this.src='/api/placeholder/40/40'">
 <div>
 <a href="https://github.com/${repo.owner?.login}" target="_blank"
 class="text-gray-300 hover:text-purple-400 text-sm font-medium">
${repo.owner?.login || 'Unknown Owner'}
 </a>
 </div>
 </div>
 <h2 class="text-xl font-bold mb-2 hover:text-purple-400">
 <a href="${repo.html_url || `https://github.com/${repo.full_name}`}" target="_blank">
${repo.name || 'Unnamed Repository'}
 </a>
 </h2>
 <p class="text-gray-400 mb-4 flex-grow">
${repo.description || 'No description available'}
 </p>
 <div class="flex flex-wrap items-center justify-between mt-auto">
 <div class="flex items-center">
${repo.language ? `
 <span class="language-badge text-xs px-2 py-1 rounded-full text-white font-medium mr-2">
${repo.language}
 </span>
 ` : ''}
 <span class="text-gray-400 text-xs">Created ${formattedDate}</span>
 </div>
 <div class="flex items-center mt-2 md:mt-0">
 <div class="flex items-center mr-3" title="Stars">
 <svg class="w-4 h-4 text-yellow-400 mr-1" fill="currentColor" viewBox="0 0 20 20">
 <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
 </svg>
 <span class="text-gray-300">${repo.stargazers_count?.toLocaleString() || 0}</span>
 </div>
 <div class="flex items-center" title="Forks">
 <svg class="w-4 h-4 text-gray-400 mr-1" fill="currentColor" viewBox="0 0 20 20">
 <path fill-rule="evenodd" d="M3 5a2 2 0 012-2h6a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 00-2 2v4a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-6a2 2 0 01-2-2v-4a2 2 0 00-2-2H5a2 2 0 01-2-2V5z" clip-rule="evenodd"></path>
 </svg>
 <span class="text-gray-300">${repo.forks_count?.toLocaleString() || 0}</span>
 </div>
 </div>
 </div>
 `;
            return card;
        }
        // Helper functions
        function hideLoading() {
            loadingEl.classList.add('hidden');
        }
        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }
        // Initialize the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>

</html>